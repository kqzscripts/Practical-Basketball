-- Practical Basketball Script v16
-- Features: Auto Time, Auto Block, Dribble Enhancer, Walkspeed, Ankle Breaker, Sprint, Stamina, Anti Stun, REC Support

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")

local Player = Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local RootPart = Character:WaitForChild("HumanoidRootPart")

-- GUI Creation
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local TitleBar = Instance.new("TextLabel")
local CloseButton = Instance.new("TextButton")
local TabFrame = Instance.new("Frame")
local ShootingTab = Instance.new("TextButton")
local MovementTab = Instance.new("TextButton")
local ContentFrame = Instance.new("Frame")
local ShootingFrame = Instance.new("ScrollingFrame")
local MovementFrame = Instance.new("ScrollingFrame")

-- Variables
local Toggles = {
    AutoTime = false,
    AutoBlock = false,
    DribbleEnhancer = false,
    WalkspeedOnBall = false,
    WalkspeedOffBall = false,
    AutoAnkle = false,
    AutoSprint = false,
    InfiniteStamina = false,
    AntiStun = false
}

-- GUI Setup
ScreenGui.Name = "PracticalBasketballHub"
ScreenGui.Parent = Player:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 70)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.05, 0, 0.1, 0)
MainFrame.Size = UDim2.new(0, 350, 0, 400)
MainFrame.Active = true
MainFrame.Draggable = true

TitleBar.Name = "TitleBar"
TitleBar.Parent = MainFrame
TitleBar.BackgroundColor3 = Color3.fromRGB(120, 70, 200)
TitleBar.BorderSizePixel = 0
TitleBar.Size = UDim2.new(1, 0, 0, 40)
TitleBar.Font = Enum.Font.GothamBold
TitleBar.Text = "ðŸ€ Practical Basketball Hub v16"
TitleBar.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleBar.TextSize = 16

CloseButton.Name = "CloseButton"
CloseButton.Parent = TitleBar
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 85, 85)
CloseButton.BorderSizePixel = 0
CloseButton.Position = UDim2.new(1, -40, 0, 5)
CloseButton.Size = UDim2.new(0, 35, 0, 30)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 18

TabFrame.Name = "TabFrame"
TabFrame.Parent = MainFrame
TabFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 85)
TabFrame.BorderSizePixel = 0
TabFrame.Position = UDim2.new(0, 0, 0, 40)
TabFrame.Size = UDim2.new(1, 0, 0, 40)

ShootingTab.Name = "ShootingTab"
ShootingTab.Parent = TabFrame
ShootingTab.BackgroundColor3 = Color3.fromRGB(70, 150, 255)
ShootingTab.BorderSizePixel = 0
ShootingTab.Size = UDim2.new(0.5, 0, 1, 0)
ShootingTab.Font = Enum.Font.GothamSemibold
ShootingTab.Text = "Shooting"
ShootingTab.TextColor3 = Color3.fromRGB(255, 255, 255)
ShootingTab.TextSize = 16

MovementTab.Name = "MovementTab"
MovementTab.Parent = TabFrame
MovementTab.BackgroundColor3 = Color3.fromRGB(60, 60, 85)
MovementTab.BorderSizePixel = 0
MovementTab.Position = UDim2.new(0.5, 0, 0, 0)
MovementTab.Size = UDim2.new(0.5, 0, 1, 0)
MovementTab.Font = Enum.Font.GothamSemibold
MovementTab.Text = "Movement"
MovementTab.TextColor3 = Color3.fromRGB(255, 255, 255)
MovementTab.TextSize = 16

ContentFrame.Name = "ContentFrame"
ContentFrame.Parent = MainFrame
ContentFrame.BackgroundTransparency = 1
ContentFrame.Position = UDim2.new(0, 0, 0, 80)
ContentFrame.Size = UDim2.new(1, 0, 1, -80)

ShootingFrame.Name = "ShootingFrame"
ShootingFrame.Parent = ContentFrame
ShootingFrame.BackgroundTransparency = 1
ShootingFrame.BorderSizePixel = 0
ShootingFrame.Position = UDim2.new(0, 10, 0, 10)
ShootingFrame.Size = UDim2.new(1, -20, 1, -20)
ShootingFrame.ScrollBarThickness = 6
ShootingFrame.Visible = true

MovementFrame.Name = "MovementFrame"
MovementFrame.Parent = ContentFrame
MovementFrame.BackgroundTransparency = 1
MovementFrame.BorderSizePixel = 0
MovementFrame.Position = UDim2.new(0, 10, 0, 10)
MovementFrame.Size = UDim2.new(1, -20, 1, -20)
MovementFrame.ScrollBarThickness = 6
MovementFrame.Visible = false

-- Create Toggle Buttons
local function createToggle(parent, name, posY)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Parent = parent
    button.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    button.BorderSizePixel = 0
    button.Position = UDim2.new(0, 0, 0, posY)
    button.Size = UDim2.new(1, -20, 0, 35)
    button.Font = Enum.Font.GothamSemibold
    button.Text = name .. ": OFF"
    button.TextColor3 = Color3.fromRGB(0, 0, 0)
    button.TextSize = 14
    return button
end

local autoTimeBtn = createToggle(ShootingFrame, "Auto Time", 0)
local autoBlockBtn = createToggle(ShootingFrame, "Auto Block", 45)
local dribbleBtn = createToggle(ShootingFrame, "Dribble Enhancer", 90)
local ankleBtn = createToggle(ShootingFrame, "Auto Ankle", 135)

local walkspeedOnBtn = createToggle(MovementFrame, "On-Ball Walkspeed", 0)
local walkspeedOffBtn = createToggle(MovementFrame, "Off-Ball Walkspeed", 45)
local sprintBtn = createToggle(MovementFrame, "Auto Sprint", 90)
local staminaBtn = createToggle(MovementFrame, "Infinite Stamina", 135)
local antiStunBtn = createToggle(MovementFrame, "Anti Stun", 180)

-- Toggle Function
local function toggleFeature(button, feature)
    Toggles[feature] = not Toggles[feature]
    if Toggles[feature] then
        button.TextColor3 = Color3.fromRGB(0, 255, 0)
        button.Text = feature:gsub("Auto ", "") .. ": ON"
        button.BackgroundColor3 = Color3.fromRGB(200, 255, 200)
    else
        button.TextColor3 = Color3.fromRGB(0, 0, 0)
        button.Text = feature:gsub("Auto ", "") .. ": OFF"
        button.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    end
end

-- Connect Toggles
autoTimeBtn.MouseButton1Click:Connect(function() toggleFeature(autoTimeBtn, "AutoTime") end)
autoBlockBtn.MouseButton1Click:Connect(function() toggleFeature(autoBlockBtn, "AutoBlock") end)
dribbleBtn.MouseButton1Click:Connect(function() toggleFeature(dribbleBtn, "DribbleEnhancer") end)
ankleBtn.MouseButton1Click:Connect(function() toggleFeature(ankleBtn, "AutoAnkle") end)
walkspeedOnBtn.MouseButton1Click:Connect(function() toggleFeature(walkspeedOnBtn, "WalkspeedOnBall") end)
walkspeedOffBtn.MouseButton1Click:Connect(function() toggleFeature(walkspeedOffBtn, "WalkspeedOffBall") end)
sprintBtn.MouseButton1Click:Connect(function() toggleFeature(sprintBtn, "AutoSprint") end)
staminaBtn.MouseButton1Click:Connect(function() toggleFeature(staminaBtn, "InfiniteStamina") end)
antiStunBtn.MouseButton1Click:Connect(function() toggleFeature(antiStunBtn, "AntiStun") end)

-- Tab Switching
ShootingTab.MouseButton1Click:Connect(function()
    ShootingFrame.Visible = true
    MovementFrame.Visible = false
    ShootingTab.BackgroundColor3 = Color3.fromRGB(70, 150, 255)
    MovementTab.BackgroundColor3 = Color3.fromRGB(60, 60, 85)
end)

MovementTab.MouseButton1Click:Connect(function()
    ShootingFrame.Visible = false
    MovementFrame.Visible = true
    ShootingTab.BackgroundColor3 = Color3.fromRGB(60, 60, 85)
    MovementTab.BackgroundColor3 = Color3.fromRGB(70, 150, 255)
end)

CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Main Features
local function updateCharacter()
    Character = Player.Character
    if Character then
        Humanoid = Character:WaitForChild("Humanoid")
        RootPart = Character:WaitForChild("HumanoidRootPart")
    end
end

Player.CharacterAdded:Connect(updateCharacter)

-- Auto Time (Ping compensation)
spawn(function()
    while wait(0.1) do
        if Toggles.AutoTime and Character and Humanoid then
            -- Simulate perfect timing (adjust for ping)
            local ping = game:GetService("Stats").Network.ServerStatsItem["Data Ping"]:GetValue()
            local perfectTime = 0.5 - (ping / 1000)
            if perfectTime > 0 then
                ReplicatedStorage.Remotes.Shoot:FireServer(perfectTime)
            end
        end
    end
end)

-- Auto Block
spawn(function()
    while wait(0.05) do
        if Toggles.AutoBlock and Character then
            for _, player in pairs(Players:GetPlayers()) do
                if player ~= Player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    local distance = (RootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude
                    if distance < 8 and player.Character:FindFirstChild("Ball") then
                        ReplicatedStorage.Remotes.Block:FireServer()
                    end
                end
            end
        end
    end
end)

-- Dribble Enhancer (Smooth glide)
spawn(function()
    while wait() do
        if Toggles.DribbleEnhancer and Character and RootPart then
            local bodyVelocity = RootPart:FindFirstChild("DribbleVelocity")
            if not bodyVelocity then
                bodyVelocity = Instance.new("BodyVelocity")
                bodyVelocity.Name = "DribbleVelocity"
                bodyVelocity.MaxForce = Vector3.new(4000, 0, 4000)
                bodyVelocity.Parent = RootPart
            end
            bodyVelocity.Velocity = Humanoid.MoveDirection * 25
        end
    end
end)

-- Walkspeed
spawn(function()
    while wait() do
        if Character and Humanoid then
            local speed = 16
            if Toggles.WalkspeedOnBall then speed = 25 end
            if Toggles.WalkspeedOffBall then speed = 22 end
            Humanoid.WalkSpeed = speed
        end
    end
end)

-- Auto Ankle Breaker
spawn(function()
    while wait(0.2) do
        if Toggles.AutoAnkle and Character then
            ReplicatedStorage.Remotes.AnkleBreaker:FireServer()
        end
    end
end)

-- Auto Sprint
spawn(function()
    while wait() do
        if Toggles.AutoSprint and Character and Humanoid then
            Humanoid:ChangeState(Enum.HumanoidStateType.Running)
        end
    end
end)

-- Infinite Stamina
spawn(function()
    while wait(0.1) do
        if Toggles.InfiniteStamina then
            if Character:FindFirstChild("Stamina") then
                Character.Stamina.Value = 100
            end
        end
    end
end)

-- Anti Stun
spawn(function()
    while wait() do
        if Toggles.AntiStun and Character and Humanoid then
            Humanoid.PlatformStand = false
        end
    end
end)

print("ðŸ€ Practical Basketball Hub v16 LOADED! Drag GUI & Toggle Features!")
