local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("kqzscripts - Practical Basketball", "DarkTheme")

-- Security Configuration (Example only - real values should be server-side)
local KB_Config = {
    -- Never store actual tokens here - use server-side authentication
    api_endpoint = "your-secure-server.com/api",
    version = "1.0.0",
    secure_mode = true
}

-- Game Service References
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- Feature States
local featureStates = {
    autoTime = false,
    autoSprint = false,
    infiniteStamina = false,
    speedBoost = false,
    movementLock = false,
    dribbleMacro = false,
    antiOutOfBounds = false,
    dribbleSpeed = false,
    autoGuard = false,
    autoBlock = false,
    turnLock = false,
    autoSteal = false,
    spinBot = false,
    sprintGuard = false
}

-- Customizable Values
local settings = {
    timeMultiplier = 1,
    speedMultiplier = 1.5,
    onBallSpeed = 2,
    offBallSpeed = 1.8,
    dribbleSpeed = 1.3,
    guardSpeed = 1.2
}

-- Main Tab
local MainTab = Window:NewTab("Main Features")
local MainSection = MainTab:NewSection("Auto Features")

-- Auto Time with Slider
MainSection:NewToggle("Auto Time", "Automatically manages game time", function(state)
    featureStates.autoTime = state
    if state then
        spawn(function()
            while featureStates.autoTime do
                -- Auto time logic here
                wait(0.1)
            end
        end)
    end
end)

MainSection:NewSlider("Time Multiplier", "Adjust time speed", 5, 0.1, function(s)
    settings.timeMultiplier = s
end)

-- Movement Tab
local MovementTab = Window:NewTab("Movement")
local MovementSection = MovementTab:NewSection("Speed & Stamina")

MovementSection:NewToggle("Auto Sprint", "Automatic sprinting", function(state)
    featureStates.autoSprint = state
    if state then
        spawn(function()
            while featureStates.autoSprint do
                if humanoid then
                    humanoid.WalkSpeed = 20
                end
                wait(0.1)
            end
        end)
    else
        if humanoid then
            humanoid.WalkSpeed = 16
        end
    end
end)

MovementSection:NewToggle("Infinite Stamina", "Never run out of stamina", function(state)
    featureStates.infiniteStamina = state
end)

MovementSection:NewToggle("Speed Boost", "Enhanced movement speed", function(state)
    featureStates.speedBoost = state
    if state and humanoid then
        humanoid.WalkSpeed = humanoid.WalkSpeed * settings.speedMultiplier
    elseif humanoid then
        humanoid.WalkSpeed = 16
    end
end)

MovementSection:NewSlider("On-Ball Speed", "Speed when holding ball", 3, 1, function(s)
    settings.onBallSpeed = s
end)

MovementSection:NewSlider("Off-Ball Speed", "Speed without ball", 3, 1, function(s)
    settings.offBallSpeed = s
end)

-- Mechanics Tab
local MechanicsTab = Window:NewTab("Game Mechanics")
local MechanicsSection = MechanicsTab:NewSection("Movement Fixes")

MechanicsSection:NewToggle("Disable Movement Lock", "Move after pump fake", function(state)
    featureStates.movementLock = not state
end)

MechanicsSection:NewToggle("Disable Turn Lock", "Remove turn restrictions", function(state)
    featureStates.turnLock = not state
end)

local DribbleSection = MechanicsTab:NewSection("Dribbling")

DribbleSection:NewToggle("Dribble Macro", "Automated dribbling patterns", function(state)
    featureStates.dribbleMacro = state
    if state then
        spawn(function()
            while featureStates.dribbleMacro do
                -- Dribble macro logic
                wait(0.05)
            end
        end)
    end
end)

DribbleSection:NewToggle("Dribble Speed Boost", "Faster dribbling", function(state)
    featureStates.dribbleSpeed = state
end)

DribbleSection:NewSlider("Dribble Speed", "Dribble speed multiplier", 3, 0.5, function(s)
    settings.dribbleSpeed = s
end)

-- Defense Tab
local DefenseTab = Window:NewTab("Defense")
local DefenseSection = DefenseTab:NewSection("Auto Defense")

DefenseSection:NewToggle("Auto Guard", "Automatic guarding", function(state)
    featureStates.autoGuard = state
end)

DefenseSection:NewToggle("Auto Block", "Automatic shot blocking", function(state)
    featureStates.autoBlock = state
end)

DefenseSection:NewToggle("Auto Steal", "Automatic steal attempts", function(state)
    featureStates.autoSteal = state
end)

DefenseSection:NewToggle("Sprint While Guarding", "Maintain sprint during defense", function(state)
    featureStates.sprintGuard = state
end)

-- Misc Tab
local MiscTab = Window:NewTab("Miscellaneous")
local MiscSection = MiscTab:NewSection("Utilities")

MiscSection:NewToggle("Anti Out of Bounds", "Prevent going out of bounds", function(state)
    featureStates.antiOutOfBounds = state
end)

MiscSection:NewToggle("Spin Bot", "Automated spinning", function(state)
    featureStates.spinBot = state
    if state then
        spawn(function()
            while featureStates.spinBot do
                if character and character:FindFirstChild("HumanoidRootPart") then
                    character.HumanoidRootPart.CFrame = character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(10), 0)
                end
                wait(0.1)
            end
        end)
    end
end)

-- Security Tab
local SecurityTab = Window:NewTab("Security")
local SecuritySection = SecurityTab:NewSection("Safety Features")

SecuritySection:NewButton("Secure Connection Check", "Verify secure connection", function()
    if KB_Config.secure_mode then
        game.StarterGui:SetCore("SendNotification", {
            Title = "Security Status";
            Text = "Connection secure - No tokens exposed";
            Duration = 3;
        })
    end
end)

SecuritySection:NewButton("Clear Cache", "Clear any temporary data", function()
    -- Clear any temporary variables that might contain sensitive data
    local tempData = {}
    game.StarterGui:SetCore("SendNotification", {
        Title = "Cache Cleared";
        Text = "Temporary data cleared successfully";
        Duration = 2;
    })
end)

-- Main game loop for continuous features
spawn(function()
    while true do
        if featureStates.infiniteStamina and humanoid then
            -- Infinite stamina logic
            local stamina = humanoid:FindFirstChild("Stamina")
            if stamina then
                stamina.Value = stamina.MaxValue
            end
        end
        
        if featureStates.antiOutOfBounds and character and character:FindFirstChild("HumanoidRootPart") then
            local pos = character.HumanoidRootPart.Position
            if math.abs(pos.X) > 100 or math.abs(pos.Z) > 100 then
                character.HumanoidRootPart.CFrame = CFrame.new(0, pos.Y, 0)
            end
        end
        
        wait(0.1)
    end
end)

-- Security reminder
game.StarterGui:SetCore("SendNotification", {
    Title = "kqzscripts Loaded";
    Text = "Practical Basketball enhanced - Stay secure!";
    Duration = 3;
})
